
# Создание приложений при помощи Shopify

**Shopify** - сервис, который позволяет развертывать сайт и его серверную часть без каких-то сложностей со стороны владельца тех или иных товаров/услуг. В данном случае, нас интересует взаимодействие сервиса со сторонними приложениями и способы развертывания мобильного приложение, используя данные магазина, т.е. создание своей мобильной реализации магазина.

## Создание аккаунта

Первоочередной задачей для взаимодействия с сервисом необходимо [создать на странице партнеров](https://partners.shopify.com/signup/developer) аккаунт. Проходим небольшую регистрацию с данными, для чего нам необходим аккаунт.

![](images/3.png)

## Создание магазина

После того, как мы зарегистрировались, нам необходимо создать магазин для разработки или получить доступ к уже существующему. В этой документации мы рассмотрим создание с нуля. Для этого переходим в раздел **Stores** и нажимаем на кнопку **Create a development store**.

![](images/4.png)

После чего нам предоставляется 2 варианта. В первом есть возможность передачи созданного аккаунта, а другой необходим для тестирования нового функционала и возможностей. Для второго, так же есть возможность получить получить моковые данные по умолчанию.

![](images/5.png)

Далее переходим в тему, и инициализируем понравившеюся нам тему. После того, как пройдет инициализация, мы можем просмотреть результат через **View your store**.

![](images/6.png)

## Как подключить авторизацию

Чтобы добавить авторизацию пользователей, необходимо перейти в настройки, которые мы можем найти в нижнем левом углу.

![](images/7.png)

Затем перейти в раздел **Customer accounts** и **Account in online store and checkout** добавить галочку в **Show login link in the header of online store and at checkout**, сохранить изменения. Теперь в нашем макете есть доступ к авторизации пользователей.

![](images/8.png)

## Как создать стороннее приложение с данными от Вашего магазина

Для того, чтобы создать приложение с данными магазина, необходимо перейти в **Settings - Apps and Sales Channels**. Далее нажимаем **Allow custom app development**. В новом окне мы соглашаемся с тем, что разработчик может взаимодействовать с приложением. Нажимаем снова **Allow custom app development**.

![](images/9.png)

Затем нажимаем кнопку **Create an app**.

![](images/10.png)

После этого вводим название приложения для удобного поиска его среди других реализаций.

![](images/11.png)

Чтобы реализовать мобильную версию сайта необходимо нажать в разделе **Overview - Select your access scopes to get starter** кнопку **Configure Storefront API scopes**.

![](images/12.png)

В появившемся окне даем все необходимые разрешения, сохраняем изменения и нажимаем теперь уже активную кнопку **Install app**, где мы подтверждаем создание приложения.

![](images/13.png)

Затем нас перебрасывает на окно с токенами, которые необходимы для взаимодействия приложения и наших данных.

![](images/14.png)

Ключ, который расположен в **Storefront API access token** необходимо будет передавать в хедере
**X-Shopify-Storefront-Access-Token**.

![](images/15.png)

А хостом будет тот же самый хост, что и у сайта:

`https://smarthelperdev.myshopify.com/api/2024-04/graphql.json`,

где 2024-04 - версия API. Какие бывают версии можно посмотреть в [документации](https://shopify.dev/docs/api/storefront).

![](images/16.png)

Все в той же статье, в разделе **Endpoints and queries** можем увидеть ссылку на приложение для построения графов.

![](images/17.png)

Даем ссылку на наш сайт, даем необходимые разрешения и подтверждаем создание.

![](images/18.png)

Затем снова подтверждаем все разрешения и нажимаем кнопку **install**.

![](images/19.png)

Теперь нам доступно приложение через которое можем получать данные и запросы магазина и использовать их в нашем приложении. Рекомендую закрепить данное приложение в меню слева.

![](images/20.png)
